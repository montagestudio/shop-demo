montageDefine("364dc3c","lib/parse",{dependencies:["./utils"],factory:function(e,t,n){var r=e("./utils"),i={delimiter:"&",depth:5,arrayLimit:20,parametersLimit:1e3};i.parseValues=function(e,t){t="string"==typeof t?t:i.delimiter;for(var n={},o=e.split(t,i.parametersLimit),a=0,s=o.length;s>a;++a){var l=o[a],u=-1===l.indexOf("]=")?l.indexOf("="):l.indexOf("]=")+1;if(-1===u)n[r.decode(l)]="";else{var c=r.decode(l.slice(0,u)),h=r.decode(l.slice(u+1));n[c]=n[c]?[].concat(n[c]).concat(h):h}}return n},i.parseObject=function(e,t){if(!e.length)return t;var n=e.shift(),r={};if("[]"===n)r=[],r=r.concat(i.parseObject(e,t));else{var o="["===n[0]&&"]"===n[n.length-1]?n.slice(1,n.length-1):n,a=parseInt(o,10);!isNaN(a)&&n!==o&&i.arrayLimit>=a?(r=[],r[a]=i.parseObject(e,t)):r[o]=i.parseObject(e,t)}return r},i.parseKeys=function(e,t,n){if(e){var r=/^([^\[\]]*)/,o=/(\[[^\[\]]*\])/g,a=r.exec(e);if(!Object.prototype.hasOwnProperty(a[1])){var s=[];a[1]&&s.push(a[1]);for(var l=0;null!==(a=o.exec(e))&&n>l;)++l,Object.prototype.hasOwnProperty(a[1].replace(/\[|\]/g,""))||s.push(a[1]);return a&&s.push("["+e.slice(a.index)+"]"),i.parseObject(s,t)}}},n.exports=function(e,t,n){if(""===e||null===e||e===void 0)return{};"number"!=typeof t&&(n=t,t=i.depth);var o="string"==typeof e?i.parseValues(e,n):r.clone(e),a={};for(var s in o)if(o.hasOwnProperty(s)){var l=i.parseKeys(s,o[s],t);a=r.merge(a,l)}return r.compact(a)}}});