montageDefine("3d3086e","merge",{dependencies:["collections/shim"],factory:function(e,t){"use strict";function n(e,t){for(var n,r=(t.length+1)*(e.length+1),i=Array(r),o=Array(t.length+1),a=Array(t.length+1),s=0;e.length+1>s;s++){for(var l=0;t.length+1>l;l++){var u,c;if(0===s&&0===l)u=" ",c=0;else if(0===s)u="insert",c=l;else if(0===l)u="delete",c=s;else if(e[s-1]===t[l-1])u="retain",c=a[l-1];else{var h=o[l-1],d=a[l];h>d?(u="delete",c=d+1):(u="insert",c=h+1)}i[s+l*(e.length+1)]=u,o[l]=c}n=o,o=a,a=n}return{edges:i,cost:a[t.length],source:t,target:e}}function r(e){for(var t,n,r=[],i=e.edges,o=t=e.target.length,a=e.source.length;t||a;){var s=i[t+a*(o+1)];if("delete"===s){if(n&&"delete"===n[0])n[1]++;else{var l=["delete",1];n=l,r.push(l)}t--}else if("insert"===s){if(n&&"insert"===n[0])n[1]++;else{var l=["insert",1];n=l,r.push(l)}a--}else if("retain"===s){var l=["retain",1];n&&"retain"===n[0]?n[1]++:(n=l,r.push(l)),t--,a--}}return r.reverse(),r}function i(e,t){return r(n(e,t))}function o(e,t){for(var n=i(e,t),r=[],o=0,a=0,s=0;n.length>s;){var l=n[s++];if("insert"===l[0])r.push([a,0,t.slice(a,a+l[1])]),a+=l[1];else if("delete"===l[0])if(n.length>s&&"insert"===n[s][0]){var u=n[s++];r.push([a,l[1],t.slice(a,a+u[1])]),o+=l[1],a+=u[1]}else r.push([a,l[1]]),o+=l[1];else"retain"==l[0]&&(o+=l[1],a+=l[1])}return r}function a(e,t){for(var n=0;t.length>n;n++)e.swap.apply(e,t[n])}function s(e,t){a(e,o(e,t))}e("collections/shim"),t.graphOt=n,t.traceOt=r,t.ot=i,t.diff=o,t.apply=a,t.merge=s}});