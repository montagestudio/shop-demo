montageDefine("3d3086e","compile-binder",{dependencies:["./compile-observer","./observers","./binders","./algebra"],factory:function(e,t,n){function i(e){return i.semantics.compile(e)}var r=e("./compile-observer");e("./observers");var o=e("./binders"),a=e("./algebra"),s={type:"value"},l={type:"literal",value:!0};n.exports=i,i.semantics={compilers:{property:o.makePropertyBinder,get:o.makeGetBinder,has:o.makeHasBinder,only:o.makeOnlyBinder,one:o.makeOneBinder,rangeContent:o.makeRangeContentBinder,mapContent:o.makeMapContentBinder,reversed:o.makeReversedBinder,and:o.makeAndBinder,or:o.makeOrBinder},compile:function(e){var t=this.compilers;if("default"===e.type)return this.compile(e.args[0]);if("literal"===e.type){if(null==e.value)return Function.noop;throw Error("Can't bind to literal: "+e.value)}if("equals"===e.type){var n=this.compile(e.args[0]),i=r(e.args[1]);return o.makeEqualityBinder(n,i)}if("if"===e.type){var u=r(e.args[0]),c=this.compile(e.args[1]),h=this.compile(e.args[2]);return o.makeConditionalBinder(u,c,h)}if("and"===e.type||"or"===e.type){var d=a(e.args[0],s),p=a(e.args[1],s),n=this.compile(d[0]),f=this.compile(p[0]),m=r(d[1]),v=r(p[1]),g=r(e.args[0]),i=r(e.args[1]);return this.compilers[e.type](n,f,g,i,m,v)}if("everyBlock"===e.type){var _=r(e.args[0]),b=a(e.args[1],l),y=this.compile(b[0]),w=r(b[1]);return o.makeEveryBlockBinder(_,y,w)}if("rangeContent"===e.type){var C,E=r(e.args[0]);try{C=this.compile(e.args[0])}catch(P){C=Function.noop}return o.makeRangeContentBinder(E,C)}if("defined"===e.type){var C=this.compile(e.args[0]);return o.makeDefinedBinder(C)}if("parent"===e.type){var C=this.compile(e.args[0]);return o.makeParentBinder(C)}if("with"===e.type){var E=r(e.args[0]),C=this.compile(e.args[1]);return o.makeWithBinder(E,C)}if(t.hasOwnProperty(e.type)){var S=e.args.map(r,r.semantics);return t[e.type].apply(null,S)}throw Error("Can't compile binder for "+JSON.stringify(e.type))}}}});